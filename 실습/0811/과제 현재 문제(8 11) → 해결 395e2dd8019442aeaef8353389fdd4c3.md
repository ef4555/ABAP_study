# 과제 현재 문제(8/11) → 해결

생성자: 최예훈
생성 일시: 2023년 8월 11일 오후 1:48
태그: ABAP

![Untitled](%E1%84%80%E1%85%AA%E1%84%8C%E1%85%A6%20%E1%84%92%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A2%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%8C%E1%85%A6(8%2011)%20%E2%86%92%20%E1%84%92%E1%85%A2%E1%84%80%E1%85%A7%E1%86%AF%20395e2dd8019442aeaef8353389fdd4c3/Untitled.png)

결과를 담는 테이블 it_list

it_base : 자재에 대한 정보를 싹 불러온 테이블(하위 자재들)

it_list에는 고유 값이 없다

중복된 자재가 있을 경우 덮어져버림

현재 문제의 근본 원인

![Untitled](%E1%84%80%E1%85%AA%E1%84%8C%E1%85%A6%20%E1%84%92%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A2%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%8C%E1%85%A6(8%2011)%20%E2%86%92%20%E1%84%92%E1%85%A2%E1%84%80%E1%85%A7%E1%86%AF%20395e2dd8019442aeaef8353389fdd4c3/Untitled%201.png)

![Untitled](%E1%84%80%E1%85%AA%E1%84%8C%E1%85%A6%20%E1%84%92%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A2%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%8C%E1%85%A6(8%2011)%20%E2%86%92%20%E1%84%92%E1%85%A2%E1%84%80%E1%85%A7%E1%86%AF%20395e2dd8019442aeaef8353389fdd4c3/Untitled%202.png)

it_list에 먼저 나머지 BOM 값들을 저장하고 그 뒤에 ojtpx 기준으로 인터널 테이블을 read하면서

matnr_m값을 채우는 로직으로 진행(MODIFY)

문제는 여러 자재 코드를 조회 시 중복된 BOM 자재가 있을 경우

![Untitled](%E1%84%80%E1%85%AA%E1%84%8C%E1%85%A6%20%E1%84%92%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A2%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%8C%E1%85%A6(8%2011)%20%E2%86%92%20%E1%84%92%E1%85%A2%E1%84%80%E1%85%A7%E1%86%AF%20395e2dd8019442aeaef8353389fdd4c3/Untitled%203.png)

![Untitled](%E1%84%80%E1%85%AA%E1%84%8C%E1%85%A6%20%E1%84%92%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A2%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%8C%E1%85%A6(8%2011)%20%E2%86%92%20%E1%84%92%E1%85%A2%E1%84%80%E1%85%A7%E1%86%AF%20395e2dd8019442aeaef8353389fdd4c3/Untitled%204.png)

100002의 빈 칸이 안채워지고 위에 matnr 100001 부분이 다시 MODIFY 되어서 변화 없음.

해결 방법

→ it_list2를 만들고 한 싸이클 돌 때마다

거기에 옮겨 담고 it_list를 초기화

쿼리가 이상하게 조회되는 문제

선택한 작업장이 where절에 반영이 되지 않았다.

→프로우지로 오세오 까먹고 있었다.

어쩐지 셀렉으로 불러온게 이상했다.

웨어절이 맨 첫번째